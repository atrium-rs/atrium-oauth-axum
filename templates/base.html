<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="referrer" content="origin-when-cross-origin">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.classless.purple.min.css">
  <title>atproto OAuth Web Service Example</title>
</head>
<body>
<header>
  <hgroup>
    <h1>atproto OAuth Web Service Example</h1>
    {% if let Some(user) = g.user %}
      <p>Hello <span style="font-family: monospace;">@{{ user.handle.as_ref() }}</span>!</p>
    {% endif %}
  </hgroup>
  <nav>
    <ul>
    {% if g.user.is_some() %}
      <li><a href="{{ crate::url_for(Page::BskyPost) }}">Create Post</a>
      <!-- <li><a href="{# url_for('oauth_refresh') #}">Refresh Token</a> -->
      <li><a href="{{ crate::url_for(Page::OAuthLogout) }}">Logout</a>
    {% else %}
      <li><a href="{{ crate::url_for(Page::OAuthLogin) }}"">Login</a>
    {% endif %}
      <li><a href="https://github.com/sugyan/atrium-oauth-axum">Code</a>
    </ul>
  </nav>
</header>
<main>
  <section class="content">
    {# for message in get_flashed_messages() #}
      <!-- <article>{# message #}</article> -->
    {# endfor #}
    {% block content %}{% endblock %}
  </section>
</main>
</body>
</html>
